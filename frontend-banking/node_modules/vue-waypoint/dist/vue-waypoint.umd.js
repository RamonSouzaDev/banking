(function(o,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(o=typeof globalThis<"u"?globalThis:o||self,t(o.VueWaypoint={},o.Vue))})(this,function(o,t){"use strict";var p=(e=>(e.In="IN",e.Out="OUT",e))(p||{}),v=(e=>(e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e))(v||{});const b=e=>e?"IN":"OUT",m=(e,r)=>{if(e.top<r.top)return"UP";if(e.left>r.left)return"RIGHT";if(e.top>r.top)return"DOWN";if(e.left<r.left)return"LEFT"},w=e=>r=>{const u=t.ref();return new window.IntersectionObserver(([n])=>{var s;if(typeof n>"u"){console.error("[vue-waypoint]","observed element is undefined");return}(s=u.value)!=null||(u.value=n.boundingClientRect),r({el:n.target,going:b(n.isIntersecting),direction:m(n.boundingClientRect,u.value)}),u.value=n.boundingClientRect},e)},y=t.defineComponent({name:"Waypoint",props:{active:{type:Boolean,default:()=>!0},options:{type:Object,default:()=>({})},tag:{type:String,default:()=>"div"},disableCssHelpers:{type:Boolean,default:()=>!1}},setup(e,r){const u=t.ref(!1),n=t.ref(null),s=t.computed(()=>u.value&&e.active&&n.value!==null),a=t.ref(),C=i=>a.value=i,f=t.ref();t.watch(s,()=>{var i;if(n.value!==null)return s.value&&f.value?f.value.observe(n.value):(i=f.value)==null?void 0:i.unobserve(n.value)}),t.watch(a,()=>{typeof a.value>"u"||r.emit("change",a.value)}),t.onMounted(()=>{u.value=!0,f.value=w(e.options)(C)}),t.onBeforeUnmount(()=>u.value=!1);const O=t.computed(()=>{var g;const{going:i,direction:l}=(g=a.value)!=null?g:{},d=i&&`going-${i.toLowerCase()}`,c=l&&`direction-${l.toLowerCase()}`;return["waypoint",d,c]});return()=>{var l,d,c;const i=e.disableCssHelpers?{ref:n}:{ref:n,class:O.value};return t.h(e.tag,i,(c=(d=r.slots).default)==null?void 0:c.call(d,(l=a.value)!=null?l:{}))}}});o.Direction=v,o.Going=p,o.Waypoint=y,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
